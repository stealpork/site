<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Регистрация</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='/registr.css') }}">
</head>
<body>
    <header>
        <h1 class="site-title">Регистрация</h1>
    </header>
    <main>
        <form class="register-form" method="POST" action="{{ url_for('register') }}">
            {{ form.csrf_token }}

            <label for="username">{{ form.username.label }}</label>
            {{ form.username(id="username", required=true) }}
            {% if form.username.errors or username_error %}
                <ul class="errors">
                    {% if username_error %}
                        <li>{{ username_error }}</li>
                    {% endif %}
                    {% for error in form.username.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

            <label for="email">{{ form.email.label }}</label>
            {{ form.email(id="email", required=true) }}
            {% if form.email.errors or email_error %}
                <ul class="errors">
                    {% if email_error %}
                        <li>{{ email_error }}</li>
                    {% endif %}
                    {% for error in form.email.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

            <label for="password">{{ form.password.label }}</label>
            {{ form.password(id="password", required=true) }}
            {% if form.password.errors %}
                <ul class="errors">
                    {% for error in form.password.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

            <label for="password2">{{ form.password2.label }}</label>
            {{ form.password2(id="password2", required=true) }}
            {% if form.password2.errors %}
                <ul class="errors">
                    {% for error in form.password2.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

            <label class="checkbox">
                {{ form.agreement(required=true) }}
                {{ form.agreement.label }} <a href="https://www.termsfeed.com/live/6b3b9e4c-a2de-4c2a-8c35-b9f6ee9cf444" target="_blank">пользовательское соглашение</a>
            </label>
            {% if form.agreement.errors %}
                <ul class="errors">
                    {% for error in form.agreement.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

            <button type="submit" class="cta-button">Зарегистрироваться</button>
        </form>
    </main>
</body>
</html>